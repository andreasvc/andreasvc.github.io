<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Command line options &mdash; Disco-DOP 0.5pre1 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5pre1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Disco-DOP 0.5pre1 documentation" href="index.html" />
    <link rel="up" title="Reference" href="ref.html" />
    <link rel="next" title="Parser parameters" href="params.html" />
    <link rel="prev" title="Reference" href="ref.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="params.html" title="Parser parameters"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="ref.html" title="Reference"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Disco-DOP 0.5pre1 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="ref.html" accesskey="U">Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="command-line-options">
<h1>Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h1>
<p>A parser for Probalistic Linear Context-Free Rewriting Systems (LCFRS) and
Probabilistic Context-Free Grammars (PCFG), as well as facilities to extract
and parse with data-oriented parsing (DOP) grammars.</p>
<p>Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">&lt;command&gt;</span> <span class="pre">[arguments]</span></code></p>
<p>Command is one of:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name"><a class="reference internal" href="#runexp">runexp</a>:</th><td class="field-body">Run experiment: grammar extraction, parsing &amp; evaluation.</td>
</tr>
<tr class="field-even field"><th class="field-name"><a class="reference internal" href="#fragments">fragments</a>:</th><td class="field-body">Extract recurring fragments from treebanks.</td>
</tr>
<tr class="field-odd field"><th class="field-name"><a class="reference internal" href="#eval">eval</a>:</th><td class="field-body">Evaluate discontinuous parse trees; similar to EVALB.</td>
</tr>
<tr class="field-even field"><th class="field-name"><a class="reference internal" href="#treetransforms">treetransforms</a>:</th><td class="field-body">Apply tree transformations and convert between formats.</td>
</tr>
<tr class="field-odd field"><th class="field-name"><a class="reference internal" href="#treedraw">treedraw</a>:</th><td class="field-body">Visualize (discontinuous) trees</td>
</tr>
<tr class="field-even field"><th class="field-name"><a class="reference internal" href="#treesearch">treesearch</a>:</th><td class="field-body">Search through treebanks with queries.</td>
</tr>
<tr class="field-odd field"><th class="field-name"><a class="reference internal" href="#grammar">grammar</a>:</th><td class="field-body">Read off grammars from treebanks.</td>
</tr>
<tr class="field-even field"><th class="field-name"><a class="reference internal" href="#parser">parser</a>:</th><td class="field-body">Simple command line parser.</td>
</tr>
<tr class="field-odd field"><th class="field-name">demos:</th><td class="field-body">Show some demonstrations of formalisms encoded in LCFRS.</td>
</tr>
<tr class="field-even field"><th class="field-name"><a class="reference internal" href="#gen">gen</a>:</th><td class="field-body">Generate sentences from a PLCFRS.</td>
</tr>
</tbody>
</table>
<p>for additional instructions issue: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">&lt;command&gt;</span> <span class="pre">--help</span></code></p>
<div class="section" id="runexp">
<h2>runexp<a class="headerlink" href="#runexp" title="Permalink to this headline">¶</a></h2>
<p>Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">runexp</span> <span class="pre">&lt;parameter</span> <span class="pre">file&gt;</span> <span class="pre">[--rerun]</span></code></p>
<p>If a parameter file is given, an experiment is run. See the file sample.prm for
an example parameter file. To repeat an experiment with an existing grammar,
pass the option <code class="docutils literal"><span class="pre">--rerun</span></code>. The directory with the name of the parameter file
without extension must exist in the current path; its results will be
overwritten.</p>
<p>Example invocation:</p>
<div class="highlight-python"><div class="highlight"><pre>discodop runexp filename.prm
</pre></div>
</div>
<p>This will create a new directory with the base name of the parameter file, i.e.,
<code class="docutils literal"><span class="pre">filename/</span></code> in this case. This directory must not exist yet, to avoid
accidentally overwriting previous results. The directory will contain the
grammar rules and lexicon in a text format, as well as the parsing results and
the gold standard file in Negra&#8217;s export format.</p>
</div>
<div class="section" id="fragments">
<h2>fragments<a class="headerlink" href="#fragments" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">fragments</span> <span class="pre">&lt;treebank1&gt;</span> <span class="pre">[treebank2]</span> <span class="pre">[options]</span></code></div>
<div class="line">or: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">fragments</span> <span class="pre">--batch=&lt;dir&gt;</span> <span class="pre">&lt;treebank1&gt;</span> <span class="pre">&lt;treebank2&gt;...</span> <span class="pre">[options]</span></code></div>
</div>
<p>If only one treebank is given, fragments occurring at least twice are sought.
If two treebanks are given, finds common fragments between first &amp; second.
Input is in Penn treebank format (S-expressions), one tree per line.
Output contains lines of the form &#8220;tree&lt;TAB&gt;frequency&#8221;.
Frequencies refer to the first treebank by default.
Output is sent to stdout; to save the results, redirect to a file.</p>
<p>Options:</p>
<dl class="docutils">
<dt>&#8211;fmt=(export|bracket|discbracket|tiger|alpino|dact)</dt>
<dd>when format is not <code class="docutils literal"><span class="pre">bracket</span></code>, work with discontinuous trees;
output is in <code class="docutils literal"><span class="pre">discbracket</span></code> format:
tree&lt;TAB&gt;sentence&lt;TAB&gt;frequency
where <code class="docutils literal"><span class="pre">tree</span></code> has indices as leaves, referring to elements of
<code class="docutils literal"><span class="pre">sentence</span></code>, a space separated list of words.</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-o <var>file</var></span></kbd></td>
<td>Write output to <code class="docutils literal"><span class="pre">file</span></code> instead of stdout.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--indices</span></kbd></td>
<td>report sets of 0-based indices instead of frequencies.</td></tr>
</tbody>
</table>
<dl class="docutils">
<dt>&#8211;cover=n[,m]</dt>
<dd>include all non-maximal/non-recurring fragments up to depth <code class="docutils literal"><span class="pre">n</span></code>
of first treebank; optionally, limit number of substitution
sites to <code class="docutils literal"><span class="pre">m</span></code>.</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--complete</span></kbd></td>
<td>find complete matches of fragments from treebank1 (needle) in
treebank2 (haystack); frequencies are from haystack.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--batch=<var>dir</var></span></kbd></td>
<td>enable batch mode; any number of treebanks &gt; 1 can be given;
first treebank (A) will be compared to all others (B).
Results are written to filenames of the form dir/A_B.
Counts/indices are from B.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--numproc=<var>n</var></span></kbd></td>
<td>use n independent processes, to enable multi-core usage
(default: 1); use 0 to detect the number of CPUs.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--numtrees=<var>n</var></span></kbd></td>
<td>only read first n trees from first treebank</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--encoding=<var>x</var></span></kbd></td>
<td>use x as treebank encoding, e.g. utf-8, iso-8859-1, etc.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--nofreq</span></kbd></td>
<td>do not report frequencies.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--approx</span></kbd></td>
<td>report counts of occurrence as maximal fragment (lower bound)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--relfreq</span></kbd></td>
<td>report relative frequencies wrt. root node of fragments.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--debin</span></kbd></td>
<td>debinarize fragments.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--twoterms</span></kbd></td>
<td>only consider fragments with at least two lexical terminals.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--adjacent</span></kbd></td>
<td>only consider pairs of adjacent fragments (n, n + 1).</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--alt</span></kbd></td>
<td>alternative output format: (NP (DT &#8220;a&#8221;) NN)
default: (NP (DT a) (NN ))</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--debug</span></kbd></td>
<td>extra debug information, ignored when numproc &gt; 1.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--quiet</span></kbd></td>
<td>disable all messages.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="eval">
<h2>eval<a class="headerlink" href="#eval" title="Permalink to this headline">¶</a></h2>
<p>Evaluation of (discontinuous) parse trees, following <code class="docutils literal"><span class="pre">EVALB</span></code> as much
as possible.</p>
<p>Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">eval</span> <span class="pre">&lt;gold&gt;</span> <span class="pre">&lt;parses&gt;</span> <span class="pre">[param]</span> <span class="pre">[options]</span></code></p>
<p>where <cite>gold`</cite> and <code class="docutils literal"><span class="pre">parses</span></code> are files with parse trees, <code class="docutils literal"><span class="pre">param</span></code> is
an <code class="docutils literal"><span class="pre">EVALB</span></code> parameter file, and options may consist of:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--cutofflen=<var>n</var></span></kbd></td>
<td>Overrides the sentence length cutoff of the parameter file.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--verbose</span></kbd></td>
<td>Print table with per sentence information.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--debug</span></kbd></td>
<td>Print debug information with per sentence bracketings etc.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--disconly</span></kbd></td>
<td>Only evaluate discontinuous bracketings (affects bracketing
scores: precision, recall, f-measure, exact match).</td></tr>
</tbody>
</table>
<dl class="docutils">
<dt>&#8211;goldfmt, &#8211;parsesfmt=(export|bracket|discbracket|tiger|alpino|dact)</dt>
<dd>Specify corpus format [default: export].</dd>
</dl>
<p>&#8211;fmt=[...]      Shorthand for setting both <code class="docutils literal"><span class="pre">--goldfmt</span></code> and <code class="docutils literal"><span class="pre">--parsesfmt</span></code>.</p>
<dl class="docutils">
<dt>&#8211;goldenc, &#8211;parsesenc=(utf-8|iso-8859-1|...)</dt>
<dd>Specify encoding [default: utf-8].</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--la</span></kbd></td>
<td>Enable leaf-ancestor evaluation.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--ted</span></kbd></td>
<td>Enable tree-edit distance evaluation.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--headrules=<var>x</var></span></kbd></td>
<td>Specify file with rules for head assignment of constituents
that do not already have a child marked as head; this
enables dependency evaluation.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--functions=<var>x</var></span></kbd></td>
<td>&#8216;remove&#8217;=default: strip functions off labels,
&#8216;leave&#8217;: leave syntactic labels as is,
&#8216;add&#8217;: evaluate both syntactic categories and functions,
&#8216;replace&#8217;: only evaluate grammatical functions.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--morphology=<var>x</var></span></kbd></td>
<td>&#8216;no&#8217;=default: only evaluate POS tags,
&#8216;add&#8217;: concatenate morphology tags to POS tags,
&#8216;replace&#8217;: replace POS tags with morphology tags,
&#8216;between&#8217;: add morphological node between POS tag and word.</td></tr>
</tbody>
</table>
<p>If the <code class="docutils literal"><span class="pre">parses</span></code> file contains function tags, these are evaluated with the
non-null metric of Blaheta &amp; Charniak (2000), which scores function tags of
correctly parsed bracketings. Multiple tags on a constituent are scored
separately. We additionally consider function tags on preterminals; this does
not change the evaluation for the Penn treebank as it does not contain function
tags on preterminals. A more stringent metric is to combine phrasal &amp; function
tags with the option <code class="docutils literal"><span class="pre">--functions=add</span></code>, which incorporates function tags in
the bracketing scores.</p>
<p>The parameter file should be encoded in <code class="docutils literal"><span class="pre">UTF-8</span></code> and supports the following
options (in addition to those described in the <code class="docutils literal"><span class="pre">README</span></code> of <code class="docutils literal"><span class="pre">EVALB</span></code>):</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">DELETE_ROOT_PRETERMS:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">if nonzero, ignore preterminals directly under the root in
gold trees for scoring purposes.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">DISC_ONLY:</th><td class="field-body"><p class="first">if nonzero, only consider discontinuous bracketings
(affects precision, recall, f-measure, exact match).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">LA:</th><td class="field-body"><p class="first">if nonzero, report leaf-ancestor scores [default: disabled].</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">TED:</th><td class="field-body"><p class="first">if nonzero, report tree-edit distance scores; disabled by
default as these are slow to compute.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">DEBUG:</th><td class="field-body"><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">-1:</th><td class="field-body">only print summary table</td>
</tr>
<tr class="field-even field"><th class="field-name">0:</th><td class="field-body">additionally, print category / tag breakdowns (default)
(after application of cutoff length).</td>
</tr>
<tr class="field-odd field"><th class="field-name">1:</th><td class="field-body">give per-sentence results (<code class="docutils literal"><span class="pre">--verbose</span></code>)</td>
</tr>
<tr class="field-even field"><th class="field-name">2:</th><td class="field-body">give detailed information for each sentence (<code class="docutils literal"><span class="pre">--debug</span></code>)</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">MAX_ERROR:</th><td class="field-body"><p class="first last">this value is ignored, no errors are tolerated.
the parameter is accepted to support usage of unmodified
EVALB parameter files.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="treetransforms">
<h2>treetransforms<a class="headerlink" href="#treetransforms" title="Permalink to this headline">¶</a></h2>
<p>Treebank binarization and conversion</p>
<p>Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">treetransforms</span> <span class="pre">[options]</span> <span class="pre">&lt;action&gt;</span> <span class="pre">[input</span> <span class="pre">[output]]</span></code></p>
<p>where input and output are treebanks; standard in/output is used if not given.
action is one of:</p>
<div class="highlight-python"><div class="highlight"><pre>none
binarize [-h x] [-v x] [--factor=left|right]
optimalbinarize [-h x] [-v x]
unbinarize
introducepreterminals
splitdisc [--markorigin]
mergedisc
transform [--reverse] [--transforms=&lt;NAME1,NAME2...&gt;]
</pre></div>
</div>
<p>options may consist of:</p>
<dl class="docutils">
<dt>&#8211;inputfmt=(export|bracket|discbracket|tiger|alpino|dact)</dt>
<dd>Input treebank format [default: export].</dd>
<dt>&#8211;outputfmt=(export|bracket|discbracket|dact|conll|mst|tokens|wordpos)</dt>
<dd>Output treebank format [default: export].
Selecting the formats <code class="docutils literal"><span class="pre">conll</span></code> or <code class="docutils literal"><span class="pre">mst</span></code> results in an
unlabeled dependency conversion and requires the use of
heuristic head rules (<code class="docutils literal"><span class="pre">--headrules</span></code>), to ensure that all
constituents have a child marked as head. A command line
interface to perform transformations on treebanks such as
binarization.</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--fmt=<var>x</var></span></kbd></td>
<td>Shortcut to specify both input and output format.</td></tr>
</tbody>
</table>
<dl class="docutils">
<dt>&#8211;inputenc, &#8211;outputenc, &#8211;enc=(utf-8|iso-8859-1|...)</dt>
<dd>Treebank encoding [default: utf-8].</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--slice=<var>&lt;n:m&gt;</var></span></kbd></td>
<td>select a range of sentences from input starting with <em>n</em>,
up to but not including <em>m</em>; as in Python, <em>n</em> or <em>m</em> can be left
out or negative, and the first index is 0.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--renumber</span></kbd></td>
<td>Replace sentence IDs with numbers starting from 1,
padded with 8 spaces.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--maxlen=<var>n</var></span></kbd></td>
<td>only select sentences with up to <em>n</em> tokens.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--punct=<var>x</var></span></kbd></td>
<td><p class="first">possible options:</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">&#8216;remove&#8217;:</th><td class="field-body">remove any punctuation.</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;move&#8217;:</th><td class="field-body">re-attach punctuation to nearest constituent
to minimize discontinuity.</td>
</tr>
<tr class="field-odd field"><th class="field-name">&#8216;restore&#8217;:</th><td class="field-body">attach punctuation under root node.</td>
</tr>
</tbody>
</table>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--functions=<var>x</var></span></kbd></td>
<td><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">&#8216;leave&#8217;:</th><td class="field-body">(default): leave syntactic labels as is,</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;remove&#8217;:</th><td class="field-body">strip away hyphen-separated function labels</td>
</tr>
<tr class="field-odd field"><th class="field-name">&#8216;add&#8217;:</th><td class="field-body">concatenate syntactic categories with functions,</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;replace&#8217;:</th><td class="field-body">replace syntactic labels w/grammatical functions.</td>
</tr>
</tbody>
</table>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--morphology=<var>x</var></span></kbd></td>
<td><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">&#8216;no&#8217; (default):</th><td class="field-body">use POS tags as preterminals</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;add&#8217;:</th><td class="field-body">concatenate morphological information to POS tags,
e.g., DET/sg.def</td>
</tr>
<tr class="field-odd field"><th class="field-name">&#8216;replace&#8217;:</th><td class="field-body">use morphological information as preterminal label</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;between&#8217;:</th><td class="field-body">insert node with morphological information between
POS tag and word, e.g., (DET (sg.def the))</td>
</tr>
</tbody>
</table>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--lemmas=<var>x</var></span></kbd></td>
<td><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">&#8216;no&#8217; (default):</th><td class="field-body">do not use lemmas.</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;add&#8217;:</th><td class="field-body">concatenate lemmas to terminals, e.g., word/lemma</td>
</tr>
<tr class="field-odd field"><th class="field-name">&#8216;replace&#8217;:</th><td class="field-body">use lemma instead of terminals</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;between&#8217;:</th><td class="field-body">insert node with lemma between POS tag and word,
e.g., (NN (man men))</td>
</tr>
</tbody>
</table>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--ensureroot=<var>x</var></span></kbd></td>
<td>add root node labeled <code class="docutils literal"><span class="pre">x</span></code> to trees if not already present.</td></tr>
</tbody>
</table>
<dl class="docutils">
<dt>&#8211;factor=(left|right)</dt>
<dd>specify left- or right-factored binarization [default: right].</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-h <var>n</var></span></kbd></td>
<td>horizontal markovization. default: infinite (all siblings)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-v <var>n</var></span></kbd></td>
<td>vertical markovization. default: 1 (immediate parent only)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--leftunary</span></kbd></td>
<td>make initial / final productions of binarized constituents</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--rightunary</span></kbd></td>
<td>... unary productions.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--tailmarker</span></kbd></td>
<td>mark rightmost child (the head if headrules are applied), to
avoid cyclic rules when <code class="docutils literal"><span class="pre">--leftunary</span></code> and <code class="docutils literal"><span class="pre">--rightunary</span></code>
are used.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--headrules=<var>x</var></span></kbd></td>
<td>turn on head finding; affects binarization.
reads rules from file <code class="docutils literal"><span class="pre">x</span></code> (e.g., &#8220;negra.headrules&#8221;).</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--markheads</span></kbd></td>
<td>mark heads with <code class="docutils literal"><span class="pre">^</span></code> in phrasal labels.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--transforms=<var>x</var></span></kbd></td>
<td>specify names of tree transformations to apply; for possible
names, cf. <a class="reference internal" href="api/discodop.treebanktransforms.html#module-discodop.treebanktransforms" title="discodop.treebanktransforms"><code class="xref py py-mod docutils literal"><span class="pre">discodop.treebanktransforms</span></code></a> module.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--reverse</span></kbd></td>
<td>reverse the transformations given by <code class="docutils literal"><span class="pre">--transform</span></code></td></tr>
</tbody>
</table>
</div>
<div class="section" id="grammar">
<h2>grammar<a class="headerlink" href="#grammar" title="Permalink to this headline">¶</a></h2>
<p>Read off grammars from treebanks.</p>
<div class="line-block">
<div class="line">Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">grammar</span> <span class="pre">&lt;type&gt;</span> <span class="pre">&lt;input&gt;</span> <span class="pre">&lt;output&gt;</span> <span class="pre">[options]</span></code></div>
<div class="line">or: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">param</span> <span class="pre">&lt;parameter-file&gt;</span> <span class="pre">&lt;output-directory&gt;</span></code></div>
<div class="line">or: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">info</span> <span class="pre">&lt;rules-file&gt;</span></code></div>
<div class="line">or: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">merge</span> <span class="pre">(rules|lexicon|fragments)</span> <span class="pre">&lt;input1&gt;</span> <span class="pre">&lt;input2&gt;...</span> <span class="pre">&lt;output&gt;</span></code></div>
</div>
<p><code class="docutils literal"><span class="pre">type</span></code> is one of:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">pcfg:</th><td class="field-body">Probabilistic Context-Free Grammar (treebank grammar).</td>
</tr>
<tr class="field-even field"><th class="field-name">plcfrs:</th><td class="field-body">Probabilistic Linear Context-Free Rewriting System
(discontinuous treebank grammar).</td>
</tr>
<tr class="field-odd field"><th class="field-name">ptsg:</th><td class="field-body">Probabilistic Tree-Substitution Grammar.</td>
</tr>
<tr class="field-even field"><th class="field-name">dopreduction:</th><td class="field-body">All-fragments PTSG using Goodman&#8217;s reduction.</td>
</tr>
<tr class="field-odd field"><th class="field-name">doubledop:</th><td class="field-body">PTSG from recurring fragmensts.</td>
</tr>
<tr class="field-even field"><th class="field-name">param:</th><td class="field-body">Extract a series of grammars according to parameters.</td>
</tr>
<tr class="field-odd field"><th class="field-name">info:</th><td class="field-body">Print statistics for PLCFRS/bitpar rules.</td>
</tr>
<tr class="field-even field"><th class="field-name">merge:</th><td class="field-body">Interpolate given sorted grammars into a single grammar.
Input can be a rules, lexicon or fragment file.</td>
</tr>
</tbody>
</table>
<p><code class="docutils literal"><span class="pre">input</span></code> is a binarized treebank, or in the <code class="docutils literal"><span class="pre">ptsg</span></code> case, weighted fragments
in the same format as the output of the <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">fragments</span></code> command;
<code class="docutils literal"><span class="pre">input</span></code> may contain discontinuous constituents, except for the <code class="docutils literal"><span class="pre">pcfg</span></code> case.
<code class="docutils literal"><span class="pre">output</span></code> is the base name for the filenames to write the grammar to; the
filenames will be <code class="docutils literal"><span class="pre">&lt;output&gt;.rules</span></code> and <code class="docutils literal"><span class="pre">&lt;output&gt;.lex</span></code>. NB: both the
<code class="docutils literal"><span class="pre">info</span></code> and <code class="docutils literal"><span class="pre">merge</span></code> commands expect grammars to be sorted by LHS, such as
the ones created by this tool.</p>
<p>Options:</p>
<dl class="docutils">
<dt>&#8211;inputfmt=(export|bracket|discbracket|tiger|alpino|dact)</dt>
<dd>The treebank format [default: export].</dd>
<dt>&#8211;inputenc=(utf-8|iso-8859-1|...)</dt>
<dd>Treebank encoding [default: utf-8].</dd>
<dt>&#8211;dopestimator=(rfe|ewe|shortest|...)</dt>
<dd>The DOP estimator to use with dopreduction/doubledop [default: rfe].</dd>
<dt>&#8211;numproc=(1|2|...)</dt>
<dd>Number of processes to start [default: 1].
Only relevant for double dop fragment extraction.</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--gzip</span></kbd></td>
<td>compress output with gzip, view with <code class="docutils literal"><span class="pre">zless</span></code> &amp;c.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--packed</span></kbd></td>
<td>use packed graph encoding for DOP reduction</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--bitpar</span></kbd></td>
<td>produce an unbinarized grammar for use with bitpar</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-s <var>X</var></span></kbd></td>
<td>start symbol to use for PTSG.</td></tr>
</tbody>
</table>
<p>When a PCFG is requested, or the input format is <code class="docutils literal"><span class="pre">bracket</span></code> (Penn format), the
output will be in bitpar format. Otherwise the grammar is written as a PLCFRS.
The encoding of the input treebank may be specified. Output encoding will be
ASCII for the rules, and utf-8 for the lexicon.</p>
<p>The PLCFRS format is as follows. Rules are delimited by newlines.
Fields are separated by tabs. The fields are:</p>
<div class="highlight-python"><div class="highlight"><pre>LHS RHS1    [RHS2]  yield-function  weight
</pre></div>
</div>
<p>The yield function defines how the spans of the RHS nonterminals
are combined to form the spans of the LHS nonterminal. Components of the yield
function are comma-separated, 0 refers to a component of the first RHS
nonterminal, and 1 from the second. Weights are expressed as rational
fractions.
The lexicon is defined in a separate file. Lines start with a single word,
followed by pairs of possible tags and their probabilities:</p>
<div class="highlight-python"><div class="highlight"><pre>WORD        TAG1    PROB1   [TAG2   PROB2 ...]
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>rules:   S  NP      VP      010     1/2
         VP_2       VB      NP      0,1     2/3
         NP NN      0       1/4
lexicon: Haus       NN      3/10    JJ      1/9
</pre></div>
</div>
</div>
<div class="section" id="parser">
<h2>parser<a class="headerlink" href="#parser" title="Permalink to this headline">¶</a></h2>
<p>A command line interface for parsing new texts with an existing grammar.</p>
<div class="line-block">
<div class="line">Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">parser</span> <span class="pre">[options]</span> <span class="pre">&lt;grammar/&gt;</span> <span class="pre">[input</span> <span class="pre">files]</span></code></div>
<div class="line">or:    <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">parser</span> <span class="pre">--simple</span> <span class="pre">[options]</span> <span class="pre">&lt;rules&gt;</span> <span class="pre">&lt;lexicon&gt;</span> <span class="pre">[input</span> <span class="pre">[output]]</span></code></div>
</div>
<p><code class="docutils literal"><span class="pre">grammar/</span></code> is a directory with a model produced by <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">runexp</span></code>.
When no filename is given, input is read from standard input and the results
are written to standard output. Input should contain one sentence per line
with space-delimited tokens. Output consists of bracketed trees in
selected format. Files must be encoded in UTF-8.</p>
<p>General options:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-x</span></kbd></td>
<td>Input is one token per line, sentences separated by two
newlines (like bitpar).</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-b <var>k</var></span></kbd></td>
<td>Return the k-best parses instead of just 1.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--prob</span></kbd></td>
<td>Print probabilities as well as parse trees.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--tags</span></kbd></td>
<td>Tokens are of the form <code class="docutils literal"><span class="pre">word/POS</span></code>; give both to parser.</td></tr>
</tbody>
</table>
<dl class="docutils">
<dt>&#8211;fmt=(export|bracket|discbracket|alpino|conll|mst|wordpos)</dt>
<dd>Format of output [default: discbracket].</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--numproc=<var>k</var></span></kbd></td>
<td>Launch k processes, to exploit multiple cores.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--simple</span></kbd></td>
<td>Parse with a single grammar and input file; similar interface
to bitpar. The files <code class="docutils literal"><span class="pre">rules</span></code> and <code class="docutils literal"><span class="pre">lexicon</span></code> define a binarized
grammar in bitpar or PLCFRS format.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--verbosity=<var>x</var></span></kbd></td>
<td>0 &lt;= x &lt;= 4. Same effect as verbosity in parameter file.</td></tr>
</tbody>
</table>
<p>Options for simple mode:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-s <var>x</var></span></kbd></td>
<td>Use <code class="docutils literal"><span class="pre">x</span></code> as start symbol instead of default <code class="docutils literal"><span class="pre">TOP</span></code>.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--bt=<var>file</var></span></kbd></td>
<td>Apply backtransform table to recover TSG derivations.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--mpp=<var>k</var></span></kbd></td>
<td>By default, the output consists of derivations, with the most
probable derivation (MPD) ranked highest. With a PTSG such as
DOP, it is possible to aim for the most probable parse (MPP)
instead, whose probability is the sum of any number of the
k-best derivations.</td></tr>
</tbody>
</table>
<dl class="docutils">
<dt>&#8211;obj=(mpd|mpp|mcc|shortest|sl-dop)</dt>
<dd>Objective function to maximize [default: mpd].</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-m <var>x</var></span></kbd></td>
<td>Use x derivations to approximate objective functions;
mpd and shortest require only 1.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--bitpar</span></kbd></td>
<td>Use bitpar to parse with an unbinarized grammar.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="treedraw">
<h2>treedraw<a class="headerlink" href="#treedraw" title="Permalink to this headline">¶</a></h2>
<p>Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">treedraw</span> <span class="pre">[&lt;treebank&gt;...]</span> <span class="pre">[options]</span></code></p>
<dl class="docutils">
<dt>&#8211;fmt=(export|bracket|discbracket|tiger|alpino|dact)</dt>
<dd>Specify corpus format [default: export].</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--encoding=<var>enc</var></span></kbd></td>
<td>Specify a different encoding than the default utf-8.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--functions=<var>x</var></span></kbd></td>
<td><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">&#8216;leave&#8217;=default:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">leave syntactic labels as is,</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;remove&#8217;:</th><td class="field-body">strip functions off labels,</td>
</tr>
<tr class="field-odd field"><th class="field-name">&#8216;add&#8217;:</th><td class="field-body">show both syntactic categories and functions,</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;replace&#8217;:</th><td class="field-body">only show grammatical functions.</td>
</tr>
</tbody>
</table>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--morphology=<var>x</var></span></kbd></td>
<td><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">&#8216;no&#8217;:</th><td class="field-body">only show POS tags [default],</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;add&#8217;:</th><td class="field-body">concatenate morphology tags to POS tags,</td>
</tr>
<tr class="field-odd field"><th class="field-name">&#8216;replace&#8217;:</th><td class="field-body">replace POS tags with morphology tags,</td>
</tr>
<tr class="field-even field"><th class="field-name">&#8216;between&#8217;:</th><td class="field-body">add morphological node between POS tag and word.</td>
</tr>
</tbody>
</table>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--abbr</span></kbd></td>
<td>abbreviate labels longer than 5 characters.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--plain</span></kbd></td>
<td>disable ANSI colors.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-n</span>, <span class="option">--numtrees=<var>x</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>only display the first x trees from the input.</td></tr>
</tbody>
</table>
<p>If no treebank is given, input is read from standard input; format is detected.
If more than one treebank is specified, trees will be displayed in parallel.
Pipe the output through <code class="docutils literal"><span class="pre">less</span> <span class="pre">-RS</span></code> to preserve the colors.</p>
</div>
<div class="section" id="treesearch">
<h2>treesearch<a class="headerlink" href="#treesearch" title="Permalink to this headline">¶</a></h2>
<p>Search through treebanks with queries.</p>
<p>Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">treesearch</span> <span class="pre">[--engine=(tgrep2|xpath|regex)]</span> <span class="pre">[-t|-s|-c]</span> <span class="pre">&lt;query&gt;</span> <span class="pre">&lt;treebank&gt;...</span></code></p>
<p>Options:</p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--engine=<var>&lt;x&gt;</var></span>, <span class="option">-e <var>&lt;x&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td><p class="first">Select query engine; possible options:</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">tgrep2:</th><td class="field-body">tgrep2 queries (default); files are bracket corpora
(optionally precompiled into tgrep2 format).</td>
</tr>
<tr class="field-even field"><th class="field-name">xpath:</th><td class="field-body">arbitrary xpath queries; files are dact XML corpora.</td>
</tr>
<tr class="field-odd field"><th class="field-name">regex:</th><td class="field-body">search through tokenized sentences with Python regexps</td>
</tr>
</tbody>
</table>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-c</span>, <span class="option">--counts</span></kbd></td>
<td>report counts</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-s</span>, <span class="option">--sents</span></kbd></td>
<td>output sentences (default)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-t</span>, <span class="option">--trees</span></kbd></td>
<td>output visualizations of trees</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-b</span>, <span class="option">--brackets</span></kbd></td>
<td>output raw trees in the original corpus format</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-o</span>, <span class="option">--only-matching</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>only output the matching portion
with <code class="docutils literal"><span class="pre">--sents</span></code>, <code class="docutils literal"><span class="pre">--trees</span></code>, and <code class="docutils literal"><span class="pre">--brackets</span></code></td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-m</span>, <span class="option">--max-count=<var>&lt;n&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>with <code class="docutils literal"><span class="pre">--counts</span></code>: only consider first n sentences;
otherwise: stop after n matches.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-n</span>, <span class="option">--line-number</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Prefix each line of output with the sentence number within
its input file.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-M</span>, <span class="option">--macros=<var>&lt;x&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>file with macros</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--numthreads=<var>&lt;x&gt;</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Number of concurrent threads to use.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="gen">
<h2>gen<a class="headerlink" href="#gen" title="Permalink to this headline">¶</a></h2>
<p>Generate random sentences with a PLCFRS or PCFG.
Reads grammar from a text file in PLCFRS or bitpar format.</p>
<div class="line-block">
<div class="line">Usage: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">gen</span> <span class="pre">[--verbose]</span> <span class="pre">&lt;rules&gt;</span> <span class="pre">&lt;lexicon&gt;</span></code></div>
<div class="line">or: <code class="docutils literal"><span class="pre">discodop</span> <span class="pre">gen</span> <span class="pre">--test</span></code></div>
</div>
<p>Grammar is assumed to be in utf-8; may be gzip&#8217;ed (.gz extension).</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html#overview">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ref.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Command line options</a></li>
<li class="toctree-l2"><a class="reference internal" href="params.html">Parser parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="fileformats.html">File formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">API documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="params.html" title="Parser parameters"
             >next</a></li>
        <li class="right" >
          <a href="ref.html" title="Reference"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Disco-DOP 0.5pre1 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="ref.html" >Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Andreas van Cranenburgh.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>